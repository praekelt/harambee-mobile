{% extends 'core/main.html' %}

{%  load search_extras %}

 {% block title %}SEARCH{% endblock %}

{% block content %}
    <div class="green-back content">
        <div class="speech-bubble {% if query %}speech-bubble-text{% else %}speech-bubble-header bold-font{% endif %} white-back black-front">
           {% if query %}{{ query|upper }}{% else %}WHAT ARE YOU LOOKING FOR?{% endif %}
        </div>
    </div>

    {% if query %}
        <div class="content white-back">
            {% for result in page.object_list %}
                <a href="/module_home/{{ module.slug }}">
                    <div class="module-display bottom-border">
                        <div>
                            {% if result.image %}
                                <img class="image" align="top" src="/static/{{ result.image.url }}"/>
                            {% else %}
                                <img class="image" align="top" src="/static/img/home.png"/>
                            {% endif %}
                        </div>
                        <div class="wide">
                            {{ result.name }}
                            <p>Progress</p>
                        </div>
                        <div class="float-right">
                            <p>
                                >
                            </p>
                        </div>
                    </div>
                </a>
            {% empty %}
                <p>No results found.</p>
            {% endfor %}

            {% if page.has_previous or page.has_next %}
                <div>
                    {% if page.has_previous %}
                        <a class="half-button left" href="?q={{ query }}&amp;page={{ page.previous_page_number }}">&laquo; Previous</a>
                    {% else %}
                        <p class="half-button left" >&laquo; Previous</p>
                    {% endif %}

                    {% if page.has_next %}
                        <a class="half-button right" href="?q={{ query }}&amp;page={{ page.next_page_number }}">Next &raquo;</a>
                    {% else %}
                        <p class="half-button right">Next &raquo;</p>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    {% endif %}
    <div id="search-container" class="search-container black-back">
        <form action="/search/" method="get" class="search-box">
            {% csrf_token %}
            <div>
                <input type="text" name="q" id="id_search" placeholder="I AM LOOKING FOR..." class="search-text black-back white-front no-border"/>
                <input type="image"  src="/static/img/icn_search_white_small.png" value="GO" class="search-go black-back white-front no-border"/>
            </div>
        </form>
    </div>
{% endblock %}